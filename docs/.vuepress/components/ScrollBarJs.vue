<template>
  <div ref="main" id="main">
    <div ref="con" id="con">
      <h1>有时候，毒鸡汤比鸡汤更能让你从现在的困境中走出来。所以壮士，干了这碗毒鸡汤，前路漫漫大不了一死有什么可怕。</h1>
      <h3>人生篇</h3>
      <p>01、你全力做到的最好，可能还不如别人的随便搞搞。</p>
      <p>02、失败并不可怕，可怕的是你还相信这句话。</p>
      <p>03、你以为有钱人很快乐吗，他们的快乐你根本想象不到。</p>
      <p>04、你们之所以喝鸡汤，是因为肉被别人吃了。</p>
      <p>05、条条大路通罗马，而有些人就生在罗马。</p>
      <p>06、别灰心，人生就是这样起起落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落落的。</p>
      <p>07、哇她出轨了，我要骂死她，哇他别绿了，好心疼他啊。心疼心疼自己吧，再心疼人家谁俩一天赚的都比你一年赚的多！</p>
      <p>08、比一个人吃火锅更寂寞的是，一个人没有钱吃火锅。</p>
      <p>09、有时候你不努力一下，不知道什么叫绝望。</p>
      <p>10、为什么要怕鬼，害你的全是人。</p>
      <p>11、你以为你两关系很好吗？不从别人的嘴巴里听到一些话，你永远不知道朋友怎么评价你。</p>
      <p>12、只有真正努力过的人才知道，天赋有多重要。</p>
      <p>13、最怕你一生碌碌无为，还安慰自己平凡可贵。</p>
      <p>14、巴菲特的传记只会记载他8岁就去参观纽约证交所，但是不会记载他的父亲是国会议员，当时是高盛董事带他参观的；比尔·盖茨的传记只会记载他从哈佛辍学创业，但是不会记载他的母亲是IBM的董事，动用权力为他带来了“第一桶金”。</p>
      <p>15、当你觉得自己又丑又穷，一无是处时，别绝望，因为至少你的判断还是对的。</p>
      <p>16、不要看别人表面上一帆风顺，实际上，他们背地里，也是一帆风顺。</p>
      <p>17、哪有什么选择恐惧症，还不是因为穷。</p>
      <p>18、你无法叫醒一个不回你消息的人，但是红包能。</p>
      <h3>身体篇</h3>
      <p>19、虽然你单身，但是你胖若两人。</p>
      <p>20、好女孩只得到了好字，而漂亮女孩却得到了所有。</p>
      <p>21、你只知道人家化妆比你好看，却不知道，她们卸了妆，不仅比你好看，皮肤还吹弹可破。</p>
      <p>22、微胖真的不是好身材。</p>
      <p>23、像我这种连名牌都不认识几个的人，有时候连别人在炫富都感觉不到。</p>
      <p>24、爱笑的女生运气不会太差，那是因为运气差的根本笑不出来。</p>
      <p>25、善良没用，你得漂亮，还得有钱。</p>
      <p>26、上帝是公平的，给了你丑的外表，还会给你低的智商，以免让你显得不协调。</p>
      <p>27、孜孜不倦熬夜，勤勤恳恳护肤。</p>
      <p>28、长得丑就是病，不然整形医院怎么叫医院？</p>
      <p>29、学校教学楼厕所放镜子你以为让你整理仪容！？你错了，是为了让你知道，人丑就要多读书。</p>
      <p>30、别人以为你是高冷，只有自己知道是自卑。</p>
      <h3>爱情篇</h3>
      <p>31、你每天熬夜的时候有没有想过，你喜欢的那个人早就已经睡了，而且梦里没有你，醒来也不会爱你。</p>
      <p>32、不要烦他啦，他还要去哄别的女孩子。</p>
      <p>33、生活不止眼前的苟且，还有前任的喜帖。</p>
      <p>34、你听过的情话不都是为上床做铺垫吗？</p>
      <p>35、你以为赵默笙真的是傻白甜吗，你忘了他跟何以琛考了同一所大学。</p>
      <p>36、女追男隔层纱，除非那男的本来就对你有好感，不然隔的基本都是铁丝网，还是带电的那种。</p>
      <p>37、撩你不是因为喜欢你，而是因为看你的样子就知道你很容易睡。</p>
      <p>38、你永远不知道他在和你聊天的同时，隔着屏幕还在和多少女生聊天。</p>
      <p>39、等你以后老了，走不动了，我就每天用轮椅推你到广场上去，让你看着我和别的老头跳舞。</p>
      <p>40、有的人是来爱你的，有的人就是来给你上课的。</p>
      <p>41、如果一个人秒回了你，说明这个人在玩手机。</p>
      <p>42、你以为他是不会表达，其实他就是不爱你。</p>
      <p>43、当我看到大家的男朋友越找越丑，我就知道，大家开始认真了，真的要成家了。</p>
      <p>44、他喜欢你，但不妨碍他会喜欢别人。</p>
      <p>45、喜欢一个人一定要去告白，不被拒绝一下，你还真以为自己是小仙女了。</p>
      <p>46、如果你是异性，你会和现在的自己交往吗？</p>
      <p>47、从前车马很慢，书信很远，一生只够爱一个人，但是能纳很多妾。</p>
      <p>48、在你深夜失眠时，人家早就呼呼大睡了，在你孤独时，别人早已有了新欢，在你怀旧时，别人早就将你忘的一干二净了，所以别再因为他继续熬夜了。</p>
      <p>49、你才二十多岁，没有遇到喜欢的人很正常，往后你会发现，大概是遇不到了。</p>
      <p>50、现在的人天天手机不离手，要回你消息早就回了，单身没关系，以后单身的日子还长着呢。</p>
    </div>
    <div ref="scroll" id="scroll" @mousedown="this.changeScrollTop">
      <div ref="scrollbar" class="scrollbar" @mousedown="this.changeTop"></div>
    </div>
  </div>
</template>

<style scoped>
#main {
  position: relative;
  width: 800px;
  height: 600px;
  margin: 0 auto;
  overflow: hidden;
  border-radius: 10px;
  border: 1px solid #dddddd;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
#con {
  position: absolute;
  left: 0;
  top: 0;
  background-color: rgba(0, 0, 0, 0.1);
  width: 90%;
  color: #000000;
  border: 1px solid #dddddd;
  padding: 5%;
}
#con p {
  font-size: 16px;
  line-height: 40px;
}
#scroll {
  position: absolute;
  right: 0;
  top: 0;
  width: 10px;
  height: 100%;
  border-radius: 10px;
}
#scroll .scrollbar {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  border-radius: 10px;
  background-color: rgba(0, 0, 0, 0.3);
}
#con,
.scrollbar {
  transition: all 0.3s ease;
  -moz-transition: all 0.3s ease; /* Firefox 4 */
  -webkit-transition: all 0.3s ease; /* Safari 和 Chrome */
  -o-transition: all 0.3s ease; /* Opera */
}
</style>

<script>
export default {
  data() {
    return {
      h_: 40, //滚动的变化
      sumHeight: "", //可视区域的总高度
      scrollHeight: "", //内容部分可以滚动的总高度
      scrollTop: "", //大盒子距离文档最上方的距离
      maxHeight: ""
    };
  },
  mounted: function() {
    this.$nextTick(function() {
      let self = this;
      this.sumHeight = this.$refs.main.clientHeight; //可视区域的总高度
      this.scrollHeight = this.$refs.con.scrollHeight; //内容部分可以滚动的总高度
      this.scrollTop = this.$refs.main.offsetTop; //大盒子距离文档最上方的距离
      // console.log(this.$refs.main.clientHeight)
      this.maxHeight =
        this.sumHeight - (this.sumHeight * this.sumHeight) / this.scrollHeight;
      this.mousewheel(self, function(e, d) {
        let t_ = -d * self.h_;
        let sT = self.$refs.scrollbar.offsetTop;
        self.setTop(sT + t_, self);
        return false;
      });
      if (this.sumHeight < this.scrollHeight) {
        this.$refs.scrollbar.style.height =
          (this.sumHeight * this.sumHeight) / this.scrollHeight + "px";
      } else return;
    });
  },
  methods: {
    //滚轮事件的兼容
    mousewheel(obj, Fn) {
      // console.log(obj)
      function eFn(e) {
        e = e || window.event;
        //对火狐和其他进行兼容
        if (Fn.call(this, e, e.wheelDelta / 120 || -e.detail / 3) === false) {
          e.preventDefault && e.preventDefault();
          e.returnValue = false;
        }
      }
      //判断浏览器是否兼容滚轮事件
      if (document.onmousewheel !== undefined) {
        //对事件监听进行兼容
        obj.$el.addEventListener
          ? obj.$el.addEventListener("mousewheel", eFn, false)
          : obj.$el.attachEvent("onmousewheel", eFn);
      } else {
        obj.$el.addEventListener("DOMMouseScroll", eFn, false);
      }
    },
    changeTop(e) {
      let self = this;
      e.stopPropagation();
      e.cancelBubble = true;
      e = e || window.event;
      let sT = self.$refs.scrollbar.offsetTop;
      let y = e.clientY;
      document.onmousemove = function(e) {
        e = e || window.event;
        //设置bra的高度；
        let barTop = sT + e.clientY - y;
        self.$options.methods.setTop(barTop, self);
      };
      document.onmouseup = function() {
        this.onmousemove = null;
      };
      function setTop(barTop) {
        barTop = Math.min(barTop, self.maxHeight);
        barTop = Math.max(barTop, 0);

        self.$refs.scrollbar.style.top = barTop + "px";

        //设置从con内容的高度
        self.$refs.con.style.top =
          (-barTop * self.scrollHeight) / self.sumHeight + "px";
      }
    },
    changeScrollTop(e) {
      let self = this;
      e = e || window.event;
      let offsetTop =
        e.clientY -
        (this.$refs.main.offsetTop - document.documentElement.scrollTop);
      this.$options.methods.setTop(
        offsetTop - (this.sumHeight * this.sumHeight) / this.scrollHeight / 2,
        self
      );
    },
    setTop: (barTop, self) => {
      // console.log(self)
      barTop = Math.min(barTop, self.maxHeight);
      barTop = Math.max(barTop, 0);
      self.$refs.scrollbar.style.top = barTop + "px";
      //设置从con内容的高度
      self.$refs.con.style.top =
        (-barTop * self.scrollHeight) / self.sumHeight + "px";
    }
  }
};
</script>
